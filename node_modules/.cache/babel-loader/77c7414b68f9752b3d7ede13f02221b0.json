{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nexport default function applyUpdatersToResults(results, result, updaters) {\n  if (!updaters) return results;\n  return _objectSpread({}, results, {}, Object.fromEntries(Object.entries(updaters).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        fetchKey = _ref2[0],\n        updater = _ref2[1];\n\n    return [fetchKey, updater(result, results[fetchKey])];\n  })));\n}","map":{"version":3,"sources":["../../src/state/applyUpdatersToResults.ts"],"names":["fetchKey","updater","results"],"mappings":";;AAUA,eAAe,SAAA,sBAAA,CAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EASb;AACA,MAAI,CAAJ,QAAA,EAAe,OAAA,OAAA;AACf,SAAA,aAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA,EAEK,MAAM,CAAN,WAAA,CACD,MAAM,CAAN,OAAA,CAAA,QAAA,EAAA,GAAA,CAA6B,UAAA,IAAA,EAAA;AAAA,QAAA,KAAA,GAAA,cAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,QAAEA,QAAF,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,QAAYC,OAAZ,GAAA,KAAA,CAAA,CAAA,CAAA;;AAAA,WAAyB,CAAA,QAAA,EAEpDA,OAAO,CAAA,MAAA,EAASC,OAAO,CAFI,QAEJ,CAAhB,CAF6C,CAAzB;AAHjC,GAGI,CADC,CAFL,CAAA;AASD","sourcesContent":["import { UpdateFunction } from '~/types';\nimport { Normalize, Schema } from '~/resource';\n\ntype ResultStateFromUpdateFunctions<\n  SourceSchema extends Schema,\n  UpdateFunctions extends {\n    [key: string]: UpdateFunction<SourceSchema, any>;\n  }\n> = { [K in keyof UpdateFunctions]: any };\n\nexport default function applyUpdatersToResults<\n  SourceSchema extends Schema,\n  UpdateFunctions extends {\n    [key: string]: UpdateFunction<SourceSchema, any>;\n  }\n>(\n  results: ResultStateFromUpdateFunctions<SourceSchema, UpdateFunctions>,\n  result: Normalize<SourceSchema>,\n  updaters: UpdateFunctions | undefined,\n) {\n  if (!updaters) return results;\n  return {\n    ...results,\n    ...Object.fromEntries(\n      Object.entries(updaters).map(([fetchKey, updater]) => [\n        fetchKey,\n        updater(result, results[fetchKey]),\n      ]),\n    ),\n  };\n}\n"]},"metadata":{},"sourceType":"module"}