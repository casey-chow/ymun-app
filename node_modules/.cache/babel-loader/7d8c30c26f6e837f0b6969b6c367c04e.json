{"ast":null,"code":"import _slicedToArray from \"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/juliablair/Desktop/christemp/ymun-app/src/pages/PostList/PostCard.tsx\";\nimport { IonCard, IonCol, IonGrid, IonImg, IonRow } from '@ionic/react';\nimport dayjs from 'dayjs'; // eslint-disable-next-line import/default\n\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport Interweave from 'interweave';\nimport React from 'react';\nimport { useResource } from 'rest-hooks';\nimport FileResource from '../../resources/file';\nimport UpvoteResource from '../../resources/upvote';\nimport UserResource from '../../resources/user';\ndayjs.extend(relativeTime);\n\nconst PostCard = ({\n  post\n}) => {\n  const _useResource = useResource([UpvoteResource.listShape(), {\n    'filter[post][=]': post.id\n  }], [UserResource.detailShape(), {\n    id: post.created_by\n  }], [FileResource.detailShape(), {\n    id: post.header_image\n  }]),\n        _useResource2 = _slicedToArray(_useResource, 3),\n        upvotes = _useResource2[0],\n        author = _useResource2[1],\n        headerImage = _useResource2[2];\n\n  const thumbnail = headerImage && headerImage.data.thumbnails.find(thumb => thumb.width === 300 && thumb.url.includes('crop'));\n  return React.createElement(IonCard, {\n    routerLink: `/posts/${post.id}`,\n    className: \"post-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(IonGrid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    size: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, thumbnail && React.createElement(IonImg, {\n    src: thumbnail.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })), React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, post.title), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, author.first_name, \" \", author.last_name, ' | ', dayjs(post.created_on).fromNow(), \" | \", upvotes.length, \" Likes\"), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Interweave, {\n    noHtml: true,\n    content: post.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))))));\n};\n\nexport default PostCard;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/PostList/PostCard.tsx"],"names":["IonCard","IonCol","IonGrid","IonImg","IonRow","dayjs","relativeTime","Interweave","React","useResource","FileResource","UpvoteResource","UserResource","extend","PostCard","post","listShape","id","detailShape","created_by","header_image","upvotes","author","headerImage","thumbnail","data","thumbnails","find","thumb","width","url","includes","title","first_name","last_name","created_on","fromNow","length","body"],"mappings":";;AAAA,SAASA,OAAT,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmCC,MAAnC,EAA2CC,MAA3C,QAAyD,cAAzD;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAEA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAEAP,KAAK,CAACQ,MAAN,CAAaP,YAAb;;AAMA,MAAMQ,QAAiC,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAAA,uBACfN,WAAW,CAChD,CAACE,cAAc,CAACK,SAAf,EAAD,EAA6B;AAAE,uBAAmBD,IAAI,CAACE;AAA1B,GAA7B,CADgD,EAEhD,CAACL,YAAY,CAACM,WAAb,EAAD,EAA6B;AAAED,IAAAA,EAAE,EAAEF,IAAI,CAACI;AAAX,GAA7B,CAFgD,EAGhD,CAACT,YAAY,CAACQ,WAAb,EAAD,EAA6B;AAAED,IAAAA,EAAE,EAAEF,IAAI,CAACK;AAAX,GAA7B,CAHgD,CADI;AAAA;AAAA,QAC/CC,OAD+C;AAAA,QACtCC,MADsC;AAAA,QAC9BC,WAD8B;;AAOtD,QAAMC,SAAS,GACbD,WAAW,IACXA,WAAW,CAACE,IAAZ,CAAiBC,UAAjB,CAA4BC,IAA5B,CACGC,KAAD,IAAWA,KAAK,CAACC,KAAN,KAAgB,GAAhB,IAAuBD,KAAK,CAACE,GAAN,CAAUC,QAAV,CAAmB,MAAnB,CADpC,CAFF;AAMA,SACE,oBAAC,OAAD;AAAS,IAAA,UAAU,EAAG,UAAShB,IAAI,CAACE,EAAG,EAAvC;AAA0C,IAAA,SAAS,EAAC,WAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGO,SAAS,IAAI,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEA,SAAS,CAACM,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,CADF,EAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKf,IAAI,CAACiB,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,MAAM,CAACW,UADV,OACuBX,MAAM,CAACY,SAD9B,EAEG,KAFH,EAGG7B,KAAK,CAACU,IAAI,CAACoB,UAAN,CAAL,CAAuBC,OAAvB,EAHH,SAGwCf,OAAO,CAACgB,MAHhD,WAFF,EAOE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,MAAM,MAAlB;AAAmB,IAAA,OAAO,EAAEtB,IAAI,CAACuB,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CAJF,CADF,CADF,CADF;AAsBD,CAnCD;;AAqCA,eAAexB,QAAf","sourcesContent":["import { IonCard, IonCol, IonGrid, IonImg, IonRow } from '@ionic/react';\nimport dayjs from 'dayjs';\n// eslint-disable-next-line import/default\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport Interweave from 'interweave';\nimport React from 'react';\nimport { useResource } from 'rest-hooks';\nimport FileResource from '../../resources/file';\nimport PostResource from '../../resources/post';\nimport UpvoteResource from '../../resources/upvote';\nimport UserResource from '../../resources/user';\n\ndayjs.extend(relativeTime);\n\ninterface PostListProps {\n  readonly post: PostResource;\n}\n\nconst PostCard: React.FC<PostListProps> = ({ post }) => {\n  const [upvotes, author, headerImage] = useResource(\n    [UpvoteResource.listShape(), { 'filter[post][=]': post.id }],\n    [UserResource.detailShape(), { id: post.created_by }],\n    [FileResource.detailShape(), { id: post.header_image }]\n  );\n\n  const thumbnail =\n    headerImage &&\n    headerImage.data.thumbnails.find(\n      (thumb) => thumb.width === 300 && thumb.url.includes('crop')\n    );\n\n  return (\n    <IonCard routerLink={`/posts/${post.id}`} className=\"post-card\">\n      <IonGrid>\n        <IonRow>\n          <IonCol size=\"4\">\n            {thumbnail && <IonImg src={thumbnail.url} />}\n          </IonCol>\n          <IonCol>\n            <h2>{post.title}</h2>\n            <small>\n              {author.first_name} {author.last_name}\n              {' | '}\n              {dayjs(post.created_on).fromNow()} | {upvotes.length} Likes\n            </small>\n            <div className=\"content\">\n              <Interweave noHtml content={post.body} />\n            </div>\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </IonCard>\n  );\n};\n\nexport default PostCard;\n"]},"metadata":{},"sourceType":"module"}