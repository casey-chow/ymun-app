{"ast":null,"code":"import _slicedToArray from \"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/juliablair/Desktop/christemp/ymun-app/src/pages/PressHome/PressHomeInner.tsx\";\nimport { IonButton, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCol, IonContent, IonGrid, IonHeader, IonImg // IonItem,\n// IonLabel,\n, IonRow, IonSlide, IonSlides // IonThumbnail,\n, IonTitle, IonToolbar, isPlatform } from '@ionic/react';\nimport _ from 'lodash';\nimport React from 'react';\nimport { useResource } from 'rest-hooks';\nimport FileResource from '../../resources/file';\nimport GalleryPhotosResource from '../../resources/galleryPhoto';\nimport PostResource from '../../resources/post';\nimport UserResource from '../../resources/user';\nimport './press.css';\nconst styles = {\n  iOSTitle: {\n    paddingTop: '25px',\n    width: 'auto',\n    marginLeft: '-74px',\n    textAlign: 'left',\n    bottom: '25px',\n    position: 'relative',\n    fontSize: 24\n  },\n  androidTitle: {\n    paddingTop: '25px',\n    width: 'auto',\n    textAlign: 'left',\n    fontSize: 24\n  },\n  iOSCardbox: {\n    width: '100% !important',\n    height: '100% !important',\n    bottom: '10px'\n  },\n  androidCardbox: {\n    width: '100% !important',\n    height: '100% !important'\n  },\n  iOSCardImg: {\n    display: 'block',\n    objectFit: 'cover',\n    width: '100vw !important',\n    height: '100% !important',\n    // maxWidth: '100%',\n    // maxHeight: '50%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignSelf: 'center',\n    padding: '5px'\n  },\n  androidCardImg: {\n    width: '106.5px !important',\n    height: '80.5px !important',\n    maxWidth: '50%',\n    maxHeight: '50%',\n    alignSelf: 'center'\n  },\n  iOSButton: {\n    width: 'auto',\n    height: '45px',\n    position: 'absolute',\n    zIndex: '99',\n    bottom: '-10px',\n    right: '22px',\n    paddingTop: '10px',\n    paddingBottom: '5px'\n  },\n  androidButton: {\n    width: 'auto',\n    height: '45px',\n    position: 'absolute',\n    zIndex: '99',\n    bottom: '-20px',\n    right: '20px',\n    paddingTop: '10px',\n    paddingBottom: '5px'\n  },\n  image: {\n    width: '100vw',\n    height: '60vh',\n    objectFit: 'cover',\n    position: 'relative',\n    paddingBottom: '30px'\n  }\n};\n\nconst PressHomeInner = () => {\n  // type Item = {\n  //     src: string;\n  //     text: string;\n  //   };\n  // const items: Item[] = [{ src: 'http://placekitten.com/g/200/300', text: 'a picture of a cat' }];\n  const _useResource = useResource([PostResource.listShape(), {}], [GalleryPhotosResource.listShape(), {\n    sort: '-modified_on'\n  }]),\n        _useResource2 = _slicedToArray(_useResource, 2),\n        posts = _useResource2[0],\n        galleryPhotos = _useResource2[1];\n\n  const fileIds = _.concat(posts.map(post => post.header_image).filter(x => !_.isNull(x)), galleryPhotos.map(x => x.photo).filter(x => !_.isNull(x))).filter(x => x);\n\n  const _useResource3 = useResource([UserResource.listShape(), {\n    'filter[id][in]': posts.map(post => post.created_by).filter(_.negate(_.isNull)).join(',')\n  }], [FileResource.listShape(), {\n    'filter[id][in]': fileIds\n  }]),\n        _useResource4 = _slicedToArray(_useResource3, 2),\n        authors = _useResource4[0],\n        files = _useResource4[1];\n\n  const authorById = _.keyBy(authors, 'id');\n\n  const filesById = _.keyBy(files, 'id');\n\n  const slideOptsNews = {\n    initialSlide: 1,\n    slidesPerView: 2,\n    freeMode: false,\n    speed: 400\n  };\n  const slideOptsGallery = {\n    initialSlide: 1,\n    slidesPerView: 1,\n    freeMode: false,\n    speed: 400,\n    spaceBetween: 10\n  };\n  return React.createElement(React.Fragment, null, React.createElement(IonHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Press\"))), React.createElement(IonContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(IonHeader, {\n    collapse: \"condense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Press\"))), React.createElement(IonImg, {\n    src: `/assets/press.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(IonGrid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    style: isPlatform('ios') ? styles.iOSTitle : styles.androidTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"News\"))), React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(IonSlides, {\n    pager: false,\n    options: slideOptsNews,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, posts.map(post => React.createElement(IonSlide, {\n    key: post.pk(),\n    style: isPlatform('ios') ? styles.iOSCardbox : styles.androidCardbox,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(IonCard, {\n    routerLink: `/posts/${post.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(IonCardContent, {\n    className: \"line-clamp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, post.header_image && filesById[post.header_image] && React.createElement(IonImg, {\n    style: isPlatform('ios') ? styles.iOSCardImg : styles.androidCardImg,\n    alt: \"\",\n    src: filesById[post.header_image].data.thumbnails[6].url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), React.createElement(IonCardHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, post.title)), post.created_by && authorById[post.created_by] && React.createElement(IonCardSubtitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, authorById[post.created_by].first_name, ' ', authorById[post.created_by].last_name)))))))), React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(IonButton, {\n    routerLink: `/posts`,\n    fill: 'outline',\n    style: isPlatform('ios') ? styles.iOSButton : styles.androidButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, \"Read More\"))), React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    style: isPlatform('ios') ? styles.iOSTitle : styles.androidTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, \"MUN \", '&', \" U\"))), React.createElement(IonRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(IonCol, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, React.createElement(IonSlides, {\n    pager: true,\n    options: slideOptsGallery,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, galleryPhotos.map(galleryPhoto => {\n    const photo = galleryPhoto.photo && filesById[galleryPhoto.photo];\n    if (!photo) return null;\n    return React.createElement(IonSlide, {\n      key: galleryPhoto.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(IonGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(IonRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(IonImg, {\n      style: styles.image,\n      src: photo.data.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }))));\n  })))))));\n};\n\nexport default PressHomeInner;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/PressHome/PressHomeInner.tsx"],"names":["IonButton","IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCol","IonContent","IonGrid","IonHeader","IonImg","IonRow","IonSlide","IonSlides","IonTitle","IonToolbar","isPlatform","_","React","useResource","FileResource","GalleryPhotosResource","PostResource","UserResource","styles","iOSTitle","paddingTop","width","marginLeft","textAlign","bottom","position","fontSize","androidTitle","iOSCardbox","height","androidCardbox","iOSCardImg","display","objectFit","marginRight","alignSelf","padding","androidCardImg","maxWidth","maxHeight","iOSButton","zIndex","right","paddingBottom","androidButton","image","PressHomeInner","listShape","sort","posts","galleryPhotos","fileIds","concat","map","post","header_image","filter","x","isNull","photo","created_by","negate","join","authors","files","authorById","keyBy","filesById","slideOptsNews","initialSlide","slidesPerView","freeMode","speed","slideOptsGallery","spaceBetween","pk","id","data","thumbnails","url","title","first_name","last_name","galleryPhoto"],"mappings":"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","sourcesContent":["import {\n  IonButton,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonImg,\n  // IonItem,\n  // IonLabel,\n  IonRow,\n  IonSlide,\n  IonSlides,\n  // IonThumbnail,\n  IonTitle,\n  IonToolbar,\n  isPlatform,\n} from '@ionic/react';\nimport _ from 'lodash';\nimport React from 'react';\nimport { useResource } from 'rest-hooks';\nimport FileResource from '../../resources/file';\nimport GalleryPhotosResource from '../../resources/galleryPhoto';\nimport PostResource from '../../resources/post';\nimport UserResource from '../../resources/user';\nimport './press.css';\n\nconst styles = {\n  iOSTitle: {\n    paddingTop: '25px',\n    width: 'auto',\n    marginLeft: '-74px',\n    textAlign: 'left',\n    bottom: '25px',\n    position: 'relative',\n    fontSize: 24,\n  },\n  androidTitle: {\n    paddingTop: '25px',\n    width: 'auto',\n    textAlign: 'left',\n    fontSize: 24,\n  },\n  iOSCardbox: {\n    width: '100% !important',\n    height: '100% !important',\n    bottom: '10px',\n  },\n  androidCardbox: {\n    width: '100% !important',\n    height: '100% !important',\n  },\n  iOSCardImg: {\n    display: 'block',\n    objectFit: 'cover',\n    width: '100vw !important',\n    height: '100% !important',\n    // maxWidth: '100%',\n    // maxHeight: '50%',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignSelf: 'center',\n    padding: '5px',\n  },\n  androidCardImg: {\n    width: '106.5px !important',\n    height: '80.5px !important',\n    maxWidth: '50%',\n\n    maxHeight: '50%',\n    alignSelf: 'center',\n  },\n  iOSButton: {\n    width: 'auto',\n    height: '45px',\n    position: 'absolute',\n    zIndex: '99',\n    bottom: '-10px',\n    right: '22px',\n    paddingTop: '10px',\n    paddingBottom: '5px',\n  },\n  androidButton: {\n    width: 'auto',\n    height: '45px',\n    position: 'absolute',\n    zIndex: '99',\n    bottom: '-20px',\n    right: '20px',\n    paddingTop: '10px',\n    paddingBottom: '5px',\n  },\n  image: {\n    width: '100vw',\n    height: '60vh',\n    objectFit: 'cover',\n    position: 'relative',\n    paddingBottom: '30px',\n  },\n};\n\nconst PressHomeInner: React.FC = () => {\n  // type Item = {\n  //     src: string;\n  //     text: string;\n  //   };\n  // const items: Item[] = [{ src: 'http://placekitten.com/g/200/300', text: 'a picture of a cat' }];\n\n  const [posts, galleryPhotos] = useResource(\n    [PostResource.listShape(), {}],\n    [GalleryPhotosResource.listShape(), { sort: '-modified_on' }]\n  );\n\n  const fileIds = _.concat(\n    posts.map((post) => post.header_image).filter((x) => !_.isNull(x)),\n    galleryPhotos.map((x) => x.photo).filter((x) => !_.isNull(x))\n  ).filter((x) => x);\n\n  const [authors, files] = useResource(\n    [\n      UserResource.listShape(),\n      {\n        'filter[id][in]': posts\n          .map((post) => post.created_by)\n          .filter(_.negate(_.isNull))\n          .join(','),\n      },\n    ],\n    [FileResource.listShape(), { 'filter[id][in]': fileIds }]\n  );\n  const authorById = _.keyBy(authors, 'id');\n  const filesById = _.keyBy(files, 'id');\n\n  const slideOptsNews = {\n    initialSlide: 1,\n    slidesPerView: 2,\n    freeMode: false,\n    speed: 400,\n  };\n\n  const slideOptsGallery = {\n    initialSlide: 1,\n    slidesPerView: 1,\n    freeMode: false,\n    speed: 400,\n    spaceBetween: 10,\n  };\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Press</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Press</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonImg src={`/assets/press.png`} />\n        <IonGrid>\n          <IonRow>\n            <IonCol>\n              <IonTitle\n                style={\n                  isPlatform('ios') ? styles.iOSTitle : styles.androidTitle\n                }\n              >\n                News\n              </IonTitle>\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol>\n              <IonSlides pager={false} options={slideOptsNews}>\n                {posts.map((post) => (\n                  <IonSlide\n                    key={post.pk()}\n                    style={\n                      isPlatform('ios')\n                        ? styles.iOSCardbox\n                        : styles.androidCardbox\n                    }\n                  >\n                    <IonCard routerLink={`/posts/${post.id}`}>\n                      <IonCardContent className=\"line-clamp\">\n                        {post.header_image && filesById[post.header_image] && (\n                          <IonImg\n                            style={\n                              isPlatform('ios')\n                                ? styles.iOSCardImg\n                                : styles.androidCardImg\n                            }\n                            alt=\"\"\n                            src={\n                              filesById[post.header_image].data.thumbnails[6]\n                                .url\n                            }\n                          />\n                        )}\n                        <IonCardHeader>\n                          <IonTitle>{post.title}</IonTitle>\n                        </IonCardHeader>\n                        {post.created_by && authorById[post.created_by] && (\n                          <IonCardSubtitle>\n                            {authorById[post.created_by].first_name}{' '}\n                            {authorById[post.created_by].last_name}\n                          </IonCardSubtitle>\n                        )}\n                      </IonCardContent>\n                    </IonCard>\n                  </IonSlide>\n                ))}\n              </IonSlides>\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol>\n              <IonButton\n                routerLink={`/posts`}\n                fill={'outline'}\n                style={\n                  isPlatform('ios') ? styles.iOSButton : styles.androidButton\n                }\n              >\n                Read More\n              </IonButton>\n            </IonCol>\n          </IonRow>\n          {/* <IonRow>\n            <IonCol>\n              <IonTitle\n                style={\n                  isPlatform('ios') ? styles.iOSTitle : styles.androidTitle\n                }\n              >\n                Decision 2020\n              </IonTitle>\n            </IonCol>\n          </IonRow> */}\n          {/* <IonRow>\n            <IonCol>\n              <IonItem style={{ paddingBottom: '20px' }} lines=\"none\">\n                <IonThumbnail slot=\"start\">\n                  <IonImg alt=\"\" src=\"/assets/munsecgen.png\" />\n                </IonThumbnail>\n                <IonLabel className=\"textboxwrapper\">\n                  Read about the candidates who are campaigning to be 2021\n                  secretary general\n                </IonLabel>\n              </IonItem>\n            </IonCol>\n          </IonRow> */}\n          {/* <IonRow>\n            <IonCol>\n              <IonButton\n                routerLink={`/decision`}\n                fill={'outline'}\n                style={\n                  isPlatform('ios') ? styles.iOSButton : styles.androidButton\n                }\n              >\n                Read More\n              </IonButton>\n            </IonCol>\n          </IonRow> */}\n          <IonRow>\n            <IonCol>\n              <IonTitle\n                style={\n                  isPlatform('ios') ? styles.iOSTitle : styles.androidTitle\n                }\n              >\n                MUN {'&'} U\n              </IonTitle>\n            </IonCol>\n          </IonRow>\n          <IonRow>\n            <IonCol>\n              <IonSlides pager={true} options={slideOptsGallery}>\n                {galleryPhotos.map((galleryPhoto) => {\n                  const photo =\n                    galleryPhoto.photo && filesById[galleryPhoto.photo];\n                  if (!photo) return null;\n\n                  return (\n                    <IonSlide key={galleryPhoto.id}>\n                      <IonGrid>\n                        <IonRow>\n                          <IonImg style={styles.image} src={photo.data.url} />\n                        </IonRow>\n                      </IonGrid>\n                    </IonSlide>\n                  );\n                })}\n              </IonSlides>\n            </IonCol>\n          </IonRow>\n          {/* <IonRow>\n            <IonCol>\n              <IonButton\n                routerLink={`/gallery`}\n                fill={'outline'}\n                style={\n                  isPlatform('ios') ? styles.iOSButton : styles.androidButton\n                }\n              >\n                See More\n              </IonButton>\n            </IonCol>\n          </IonRow> */}\n        </IonGrid>\n      </IonContent>\n    </>\n  );\n};\n\nexport default PressHomeInner;\n"]},"metadata":{},"sourceType":"module"}