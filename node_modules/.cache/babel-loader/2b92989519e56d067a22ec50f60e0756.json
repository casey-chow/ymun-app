{"ast":null,"code":"import _slicedToArray from \"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CountryCaucusRoomAssignments/CountryCaucusRAInner.tsx\";\nimport { IonBackButton, IonButtons, IonContent, IonHeader, IonItemDivider, IonItemGroup, IonLabel, IonList, IonSearchbar, IonTitle, IonToolbar } from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { useResource, useRetrieve } from 'rest-hooks';\nimport CountryResource from '../../resources/country';\nimport LocationResource from '../../resources/location';\nimport CountryItem from './CountryItem';\n\nconst CountryCaucusRAInner = () => {\n  const countries = useResource(CountryResource.listShape(), {});\n  useRetrieve(LocationResource.listShape(), {});\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchbarText = _useState2[0],\n        setSearchbarText = _useState2[1];\n\n  const searchbarChanged = useCallback(evt => {\n    setSearchbarText(evt.target && evt.target.value.toLowerCase());\n  }, [setSearchbarText]);\n  const countriesByLetter = useMemo(() => {\n    const filtered = searchbarText ? countries.filter(x => x.name.toLowerCase().includes(searchbarText)) : countries;\n\n    const grouped = _.groupBy(filtered, x => x.name[0].toUpperCase());\n\n    const letters = _.keys(grouped).sort();\n\n    return letters.map(letter => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [countries, searchbarText]);\n  return React.createElement(React.Fragment, null, React.createElement(IonHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(IonButtons, {\n    slot: \"start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(IonBackButton, {\n    defaultHref: \"/rooms\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(IonTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Country Caucus\"))), React.createElement(IonContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(IonHeader, {\n    collapse: \"condense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Country Caucus\"))), React.createElement(IonSearchbar, {\n    animated: true,\n    onIonInput: searchbarChanged,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(IonList, {\n    lines: \"full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, countriesByLetter.map(([letter, countriesForLetter]) => React.createElement(IonItemGroup, {\n    key: letter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(IonItemDivider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(IonLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, letter)), countriesForLetter.map(country => React.createElement(CountryItem, {\n    key: country.id,\n    country: country,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })))))));\n};\n\nexport default CountryCaucusRAInner;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CountryCaucusRoomAssignments/CountryCaucusRAInner.tsx"],"names":["IonBackButton","IonButtons","IonContent","IonHeader","IonItemDivider","IonItemGroup","IonLabel","IonList","IonSearchbar","IonTitle","IonToolbar","_","React","useMemo","useState","useCallback","useResource","useRetrieve","CountryResource","LocationResource","CountryItem","CountryCaucusRAInner","countries","listShape","searchbarText","setSearchbarText","searchbarChanged","evt","target","value","toLowerCase","countriesByLetter","filtered","filter","x","name","includes","grouped","groupBy","toUpperCase","letters","keys","sort","map","letter","sortBy","countriesForLetter","country","id"],"mappings":"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","sourcesContent":["import {\n  IonBackButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItemDivider,\n  IonItemGroup,\n  IonLabel,\n  IonList,\n  IonSearchbar,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { useResource, useRetrieve } from 'rest-hooks';\nimport CountryResource from '../../resources/country';\nimport LocationResource from '../../resources/location';\nimport CountryItem from './CountryItem';\n\nconst CountryCaucusRAInner: React.FC = () => {\n  const countries = useResource(CountryResource.listShape(), {});\n  useRetrieve(LocationResource.listShape(), {});\n\n  const [searchbarText, setSearchbarText] = useState<string | null>(null);\n  const searchbarChanged = useCallback(\n    (evt) => {\n      setSearchbarText(\n        evt.target && (evt.target.value as string).toLowerCase()\n      );\n    },\n    [setSearchbarText]\n  );\n\n  const countriesByLetter: [string, CountryResource[]][] = useMemo(() => {\n    const filtered = searchbarText\n      ? countries.filter((x) => x.name.toLowerCase().includes(searchbarText))\n      : countries;\n    const grouped = _.groupBy(filtered, (x) => x.name[0].toUpperCase());\n    const letters = _.keys(grouped).sort();\n\n    return letters.map((letter) => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [countries, searchbarText]);\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/rooms\" />\n          </IonButtons>\n          <IonTitle>Country Caucus</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Country Caucus</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonSearchbar animated={true} onIonInput={searchbarChanged} />\n        <IonList lines=\"full\">\n          {countriesByLetter.map(([letter, countriesForLetter]) => (\n            <IonItemGroup key={letter}>\n              <IonItemDivider>\n                <IonLabel>{letter}</IonLabel>\n              </IonItemDivider>\n              {countriesForLetter.map((country) => (\n                <CountryItem key={country.id} country={country} />\n              ))}\n            </IonItemGroup>\n          ))}\n        </IonList>\n      </IonContent>\n    </>\n  );\n};\n\nexport default CountryCaucusRAInner;\n"]},"metadata":{},"sourceType":"module"}