{"ast":null,"code":"import _slicedToArray from\"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonCard,IonCol,IonGrid,IonImg,IonRow}from'@ionic/react';import dayjs from'dayjs';// eslint-disable-next-line import/default\nimport relativeTime from'dayjs/plugin/relativeTime';import Interweave from'interweave';import React from'react';import{useResource}from'rest-hooks';import FileResource from'../../resources/file';import UpvoteResource from'../../resources/upvote';import UserResource from'../../resources/user';dayjs.extend(relativeTime);var PostCard=function PostCard(_ref){var post=_ref.post;var _useResource=useResource([UpvoteResource.listShape(),{'filter[post][=]':post.id}],[UserResource.detailShape(),{id:post.created_by}],[FileResource.detailShape(),{id:post.header_image}]),_useResource2=_slicedToArray(_useResource,3),upvotes=_useResource2[0],author=_useResource2[1],headerImage=_useResource2[2];var thumbnail=headerImage&&headerImage.data.thumbnails.find(function(thumb){return thumb.width===300&&thumb.url.includes('crop');});return React.createElement(IonCard,{routerLink:\"/posts/\".concat(post.id),className:\"post-card\"},React.createElement(IonGrid,null,React.createElement(IonRow,null,React.createElement(IonCol,{size:\"4\"},thumbnail&&React.createElement(IonImg,{src:thumbnail.url})),React.createElement(IonCol,null,React.createElement(\"h2\",null,post.title),React.createElement(\"small\",null,author.first_name,\" \",author.last_name,' | ',dayjs(post.created_on).fromNow(),\" | \",upvotes.length,\" Likes\"),React.createElement(\"div\",{className:\"content\"},React.createElement(Interweave,{noHtml:true,content:post.body}))))));};export default PostCard;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/PostList/PostCard.tsx"],"names":["IonCard","IonCol","IonGrid","IonImg","IonRow","dayjs","relativeTime","Interweave","React","useResource","FileResource","UpvoteResource","UserResource","extend","PostCard","post","listShape","id","detailShape","created_by","header_image","upvotes","author","headerImage","thumbnail","data","thumbnails","find","thumb","width","url","includes","title","first_name","last_name","created_on","fromNow","length","body"],"mappings":"mKAAA,OAASA,OAAT,CAAkBC,MAAlB,CAA0BC,OAA1B,CAAmCC,MAAnC,CAA2CC,MAA3C,KAAyD,cAAzD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CAEAP,KAAK,CAACQ,MAAN,CAAaP,YAAb,EAMA,GAAMQ,CAAAA,QAAiC,CAAG,QAApCA,CAAAA,QAAoC,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,kBACfN,WAAW,CAChD,CAACE,cAAc,CAACK,SAAf,EAAD,CAA6B,CAAE,kBAAmBD,IAAI,CAACE,EAA1B,CAA7B,CADgD,CAEhD,CAACL,YAAY,CAACM,WAAb,EAAD,CAA6B,CAAED,EAAE,CAAEF,IAAI,CAACI,UAAX,CAA7B,CAFgD,CAGhD,CAACT,YAAY,CAACQ,WAAb,EAAD,CAA6B,CAAED,EAAE,CAAEF,IAAI,CAACK,YAAX,CAA7B,CAHgD,CADI,8CAC/CC,OAD+C,kBACtCC,MADsC,kBAC9BC,WAD8B,kBAOtD,GAAMC,CAAAA,SAAS,CACbD,WAAW,EACXA,WAAW,CAACE,IAAZ,CAAiBC,UAAjB,CAA4BC,IAA5B,CACE,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,GAAgB,GAAhB,EAAuBD,KAAK,CAACE,GAAN,CAAUC,QAAV,CAAmB,MAAnB,CAAlC,EADF,CAFF,CAMA,MACE,qBAAC,OAAD,EAAS,UAAU,kBAAYhB,IAAI,CAACE,EAAjB,CAAnB,CAA0C,SAAS,CAAC,WAApD,EACE,oBAAC,OAAD,MACE,oBAAC,MAAD,MACE,oBAAC,MAAD,EAAQ,IAAI,CAAC,GAAb,EACGO,SAAS,EAAI,oBAAC,MAAD,EAAQ,GAAG,CAAEA,SAAS,CAACM,GAAvB,EADhB,CADF,CAIE,oBAAC,MAAD,MACE,8BAAKf,IAAI,CAACiB,KAAV,CADF,CAEE,iCACGV,MAAM,CAACW,UADV,KACuBX,MAAM,CAACY,SAD9B,CAEG,KAFH,CAGG7B,KAAK,CAACU,IAAI,CAACoB,UAAN,CAAL,CAAuBC,OAAvB,EAHH,OAGwCf,OAAO,CAACgB,MAHhD,UAFF,CAOE,2BAAK,SAAS,CAAC,SAAf,EACE,oBAAC,UAAD,EAAY,MAAM,KAAlB,CAAmB,OAAO,CAAEtB,IAAI,CAACuB,IAAjC,EADF,CAPF,CAJF,CADF,CADF,CADF,CAsBD,CAnCD,CAqCA,cAAexB,CAAAA,QAAf","sourcesContent":["import { IonCard, IonCol, IonGrid, IonImg, IonRow } from '@ionic/react';\nimport dayjs from 'dayjs';\n// eslint-disable-next-line import/default\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport Interweave from 'interweave';\nimport React from 'react';\nimport { useResource } from 'rest-hooks';\nimport FileResource from '../../resources/file';\nimport PostResource from '../../resources/post';\nimport UpvoteResource from '../../resources/upvote';\nimport UserResource from '../../resources/user';\n\ndayjs.extend(relativeTime);\n\ninterface PostListProps {\n  readonly post: PostResource;\n}\n\nconst PostCard: React.FC<PostListProps> = ({ post }) => {\n  const [upvotes, author, headerImage] = useResource(\n    [UpvoteResource.listShape(), { 'filter[post][=]': post.id }],\n    [UserResource.detailShape(), { id: post.created_by }],\n    [FileResource.detailShape(), { id: post.header_image }]\n  );\n\n  const thumbnail =\n    headerImage &&\n    headerImage.data.thumbnails.find(\n      (thumb) => thumb.width === 300 && thumb.url.includes('crop')\n    );\n\n  return (\n    <IonCard routerLink={`/posts/${post.id}`} className=\"post-card\">\n      <IonGrid>\n        <IonRow>\n          <IonCol size=\"4\">\n            {thumbnail && <IonImg src={thumbnail.url} />}\n          </IonCol>\n          <IonCol>\n            <h2>{post.title}</h2>\n            <small>\n              {author.first_name} {author.last_name}\n              {' | '}\n              {dayjs(post.created_on).fromNow()} | {upvotes.length} Likes\n            </small>\n            <div className=\"content\">\n              <Interweave noHtml content={post.body} />\n            </div>\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </IonCard>\n  );\n};\n\nexport default PostCard;\n"]},"metadata":{},"sourceType":"module"}