{"ast":null,"code":"import _jsx from \"@babel/runtime/helpers/esm/jsx\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\n\nfunction isNetworkError(error) {\n  return Object.prototype.hasOwnProperty.call(error, 'status');\n}\n\nvar NetworkErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NetworkErrorBoundary, _React$Component);\n\n  function NetworkErrorBoundary() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NetworkErrorBoundary);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NetworkErrorBoundary)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    return _this;\n  }\n\n  _createClass(NetworkErrorBoundary, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.state.error) {\n        return this.props.children;\n      }\n\n      return _jsx(this.props.fallbackComponent, {\n        error: this.state.error\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      if (isNetworkError(error)) {\n        return {\n          error: error\n        };\n      }\n    }\n  }]);\n\n  return NetworkErrorBoundary;\n}(React.Component);\n\n_defineProperty(NetworkErrorBoundary, \"defaultProps\", {\n  fallbackComponent: function fallbackComponent(_ref) {\n    var error = _ref.error;\n    return _jsx(\"div\", {}, void 0, error.status, \" \", error.response && error.response.statusText);\n  }\n});\n\nexport { NetworkErrorBoundary as default };","map":{"version":3,"sources":["../../src/react-integration/NetworkErrorBoundary.tsx"],"names":["Object","NetworkErrorBoundary","React","Component","fallbackComponent","error","isNetworkError"],"mappings":";;;;;;;;AAAA,OAAA,KAAA,MAAA,OAAA;;AAOA,SAAA,cAAA,CAAA,KAAA,EAA8E;AAC5E,SAAOA,MAAM,CAANA,SAAAA,CAAAA,cAAAA,CAAAA,IAAAA,CAAAA,KAAAA,EAAP,QAAOA,CAAP;AACD;;IASoBC,oB;;;;;;;;;;;;;;;;;;4DAiBD,E;;;;;;;6BAET;AACP,UAAI,CAAC,KAAA,KAAA,CAAL,KAAA,EAAuB;AACrB,eAAO,KAAA,KAAA,CAAP,QAAA;AACD;;AACD,aAAO,IAAA,CAAA,KAAA,KAAA,CAAA,iBAAA,EAAA;AAA8B,QAAA,KAAK,EAAE,KAAA,KAAA,CAAWI;AAAhD,OAAA,CAAP;AACD;;;6CAb+BA,K,EAA2B;AACzD,UAAIC,cAAc,CAAlB,KAAkB,CAAlB,EAA2B;AACzB,eAAO;AAAED,UAAAA,KAAK,EAALA;AAAF,SAAP;AACD;AACF;;;;EAbOH,KAAK,CAACC,S;;gBAFKF,oB,kBAGG;AACpBG,EAAAA,iBAAiB,EAAE,SAAA,iBAAA,CAAA,IAAA,EAAA;AAAA,QAAGC,KAAH,GAAA,IAAA,CAAA,KAAA;AAAA,WACjB,IAAA,CAAA,KAAA,EAAA,EAAA,EAAA,KAAA,CAAA,EACGA,KAAK,CADR,MAAA,EAAA,GAAA,EACkBA,KAAK,CAALA,QAAAA,IAAkBA,KAAK,CAALA,QAAAA,CAFnB,UACjB,CADiB;AAAA;AADC,C;;SAHHJ,oB","sourcesContent":["import React from 'react';\n\nexport interface NetworkError extends Error {\n  status: number | undefined;\n  response?: { statusText?: string; body?: any };\n}\n\nfunction isNetworkError(error: NetworkError | unknown): error is NetworkError {\n  return Object.prototype.hasOwnProperty.call(error, 'status');\n}\n\ninterface Props<E extends NetworkError> {\n  children: React.ReactNode;\n  fallbackComponent: React.ComponentType<{ error: E }>;\n}\ninterface State<E extends NetworkError> {\n  error?: E;\n}\nexport default class NetworkErrorBoundary<\n  E extends NetworkError\n> extends React.Component<Props<E>, State<E>> {\n  static defaultProps = {\n    fallbackComponent: ({ error }: { error: NetworkError }) => (\n      <div>\n        {error.status} {error.response && error.response.statusText}\n      </div>\n    ),\n  };\n\n  static getDerivedStateFromError(error: NetworkError | any) {\n    if (isNetworkError(error)) {\n      return { error };\n    }\n  }\n\n  state: State<E> = {};\n\n  render() {\n    if (!this.state.error) {\n      return this.props.children;\n    }\n    return <this.props.fallbackComponent error={this.state.error} />;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}