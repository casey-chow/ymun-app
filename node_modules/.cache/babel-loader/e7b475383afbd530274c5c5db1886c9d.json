{"ast":null,"code":"import _slicedToArray from\"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonBackButton,IonButtons,IonContent,IonHeader,IonItemDivider,IonItemGroup,IonLabel,IonList,IonSearchbar,IonTitle,IonToolbar}from'@ionic/react';import _ from'lodash';import React,{useMemo,useState,useCallback}from'react';import{useResource,useRetrieve}from'rest-hooks';import CountryResource from'../../resources/country';import LocationResource from'../../resources/location';import CountryItem from'./CountryItem';var CountryCaucusRAInner=function CountryCaucusRAInner(){var countries=useResource(CountryResource.listShape(),{});useRetrieve(LocationResource.listShape(),{});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),searchbarText=_useState2[0],setSearchbarText=_useState2[1];var searchbarChanged=useCallback(function(evt){setSearchbarText(evt.target&&evt.target.value.toLowerCase());},[setSearchbarText]);var countriesByLetter=useMemo(function(){var filtered=searchbarText?countries.filter(function(x){return x.name.toLowerCase().includes(searchbarText);}):countries;var grouped=_.groupBy(filtered,function(x){return x.name[0].toUpperCase();});var letters=_.keys(grouped).sort();return letters.map(function(letter){return[letter,_.sortBy(grouped[letter],'name')];});},[countries,searchbarText]);return React.createElement(React.Fragment,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,null,React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonBackButton,{defaultHref:\"/rooms\"})),React.createElement(IonTitle,null,\"Country Caucus\"))),React.createElement(IonContent,null,React.createElement(IonHeader,{collapse:\"condense\"},React.createElement(IonToolbar,null,React.createElement(IonTitle,{size:\"large\"},\"Country Caucus\"))),React.createElement(IonSearchbar,{animated:true,onIonInput:searchbarChanged}),React.createElement(IonList,{lines:\"full\"},countriesByLetter.map(function(_ref){var _ref2=_slicedToArray(_ref,2),letter=_ref2[0],countriesForLetter=_ref2[1];return React.createElement(IonItemGroup,{key:letter},React.createElement(IonItemDivider,null,React.createElement(IonLabel,null,letter)),countriesForLetter.map(function(country){return React.createElement(CountryItem,{key:country.id,country:country});}));}))));};export default CountryCaucusRAInner;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CountryCaucusRoomAssignments/CountryCaucusRAInner.tsx"],"names":["IonBackButton","IonButtons","IonContent","IonHeader","IonItemDivider","IonItemGroup","IonLabel","IonList","IonSearchbar","IonTitle","IonToolbar","_","React","useMemo","useState","useCallback","useResource","useRetrieve","CountryResource","LocationResource","CountryItem","CountryCaucusRAInner","countries","listShape","searchbarText","setSearchbarText","searchbarChanged","evt","target","value","toLowerCase","countriesByLetter","filtered","filter","x","name","includes","grouped","groupBy","toUpperCase","letters","keys","sort","map","letter","sortBy","countriesForLetter","country","id"],"mappings":"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","sourcesContent":["import {\n  IonBackButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItemDivider,\n  IonItemGroup,\n  IonLabel,\n  IonList,\n  IonSearchbar,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { useResource, useRetrieve } from 'rest-hooks';\nimport CountryResource from '../../resources/country';\nimport LocationResource from '../../resources/location';\nimport CountryItem from './CountryItem';\n\nconst CountryCaucusRAInner: React.FC = () => {\n  const countries = useResource(CountryResource.listShape(), {});\n  useRetrieve(LocationResource.listShape(), {});\n\n  const [searchbarText, setSearchbarText] = useState<string | null>(null);\n  const searchbarChanged = useCallback(\n    (evt) => {\n      setSearchbarText(\n        evt.target && (evt.target.value as string).toLowerCase()\n      );\n    },\n    [setSearchbarText]\n  );\n\n  const countriesByLetter: [string, CountryResource[]][] = useMemo(() => {\n    const filtered = searchbarText\n      ? countries.filter((x) => x.name.toLowerCase().includes(searchbarText))\n      : countries;\n    const grouped = _.groupBy(filtered, (x) => x.name[0].toUpperCase());\n    const letters = _.keys(grouped).sort();\n\n    return letters.map((letter) => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [countries, searchbarText]);\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/rooms\" />\n          </IonButtons>\n          <IonTitle>Country Caucus</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Country Caucus</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonSearchbar animated={true} onIonInput={searchbarChanged} />\n        <IonList lines=\"full\">\n          {countriesByLetter.map(([letter, countriesForLetter]) => (\n            <IonItemGroup key={letter}>\n              <IonItemDivider>\n                <IonLabel>{letter}</IonLabel>\n              </IonItemDivider>\n              {countriesForLetter.map((country) => (\n                <CountryItem key={country.id} country={country} />\n              ))}\n            </IonItemGroup>\n          ))}\n        </IonList>\n      </IonContent>\n    </>\n  );\n};\n\nexport default CountryCaucusRAInner;\n"]},"metadata":{},"sourceType":"module"}