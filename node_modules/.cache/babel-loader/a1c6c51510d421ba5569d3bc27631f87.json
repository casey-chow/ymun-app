{"ast":null,"code":"import _slicedToArray from\"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonBackButton,IonButtons,IonContent,IonHeader,IonItemDivider,IonItemGroup,IonLabel,IonList,IonSearchbar,IonTitle,IonToolbar}from'@ionic/react';import _ from'lodash';import React,{useCallback,useMemo,useState}from'react';import{useResource}from'rest-hooks';import CommitteeResource from'../../resources/committee';import CommitteeItem from'./CommitteeItem';var CommitteeListInner=function CommitteeListInner(){var committees=useResource(CommitteeResource.listShape(),{});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),searchbarText=_useState2[0],setSearchbarText=_useState2[1];var searchbarChanged=useCallback(function(evt){setSearchbarText(evt.target&&evt.target.value.toLowerCase());},[setSearchbarText]);var committeesByLetter=useMemo(function(){var filtered=searchbarText?committees.filter(function(x){return x.name.toLowerCase().includes(searchbarText);}):committees;var grouped=_.groupBy(filtered,function(x){return x.name[0].toUpperCase();});var letters=_.keys(grouped).sort();return letters.map(function(letter){return[letter,_.sortBy(grouped[letter],'name')];});},[committees,searchbarText]);return React.createElement(React.Fragment,null,React.createElement(IonHeader,null,React.createElement(IonToolbar,null,React.createElement(IonButtons,{slot:\"start\"},React.createElement(IonBackButton,{defaultHref:\"/resources\"})),React.createElement(IonTitle,null,\"Committees\"))),React.createElement(IonContent,null,React.createElement(IonHeader,{collapse:\"condense\"},React.createElement(IonToolbar,null,React.createElement(IonTitle,{size:\"large\"},\"Committees\"))),React.createElement(IonSearchbar,{animated:true,onIonInput:searchbarChanged}),React.createElement(IonList,{lines:\"full\"},committeesByLetter.map(function(_ref){var _ref2=_slicedToArray(_ref,2),letter=_ref2[0],committeesForLetter=_ref2[1];return React.createElement(IonItemGroup,{key:letter},React.createElement(IonItemDivider,null,React.createElement(IonLabel,null,letter)),committeesForLetter.map(function(committee){return React.createElement(CommitteeItem,{key:committee.id,committee:committee});}));}))));};export default CommitteeListInner;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CommitteeList/CommitteeListInner.tsx"],"names":["IonBackButton","IonButtons","IonContent","IonHeader","IonItemDivider","IonItemGroup","IonLabel","IonList","IonSearchbar","IonTitle","IonToolbar","_","React","useCallback","useMemo","useState","useResource","CommitteeResource","CommitteeItem","CommitteeListInner","committees","listShape","searchbarText","setSearchbarText","searchbarChanged","evt","target","value","toLowerCase","committeesByLetter","filtered","filter","x","name","includes","grouped","groupBy","toUpperCase","letters","keys","sort","map","letter","sortBy","committeesForLetter","committee","id"],"mappings":"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","sourcesContent":["import {\n  IonBackButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItemDivider,\n  IonItemGroup,\n  IonLabel,\n  IonList,\n  IonSearchbar,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useResource } from 'rest-hooks';\nimport CommitteeResource from '../../resources/committee';\nimport CommitteeItem from './CommitteeItem';\n\nconst CommitteeListInner: React.FC = () => {\n  const committees = useResource(CommitteeResource.listShape(), {});\n\n  const [searchbarText, setSearchbarText] = useState<string | null>(null);\n  const searchbarChanged = useCallback(\n    (evt) => {\n      setSearchbarText(\n        evt.target && (evt.target.value as string).toLowerCase()\n      );\n    },\n    [setSearchbarText]\n  );\n\n  const committeesByLetter: [string, CommitteeResource[]][] = useMemo(() => {\n    const filtered = searchbarText\n      ? committees.filter((x) => x.name.toLowerCase().includes(searchbarText))\n      : committees;\n    const grouped = _.groupBy(filtered, (x) => x.name[0].toUpperCase());\n    const letters = _.keys(grouped).sort();\n\n    return letters.map((letter) => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [committees, searchbarText]);\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/resources\" />\n          </IonButtons>\n          <IonTitle>Committees</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Committees</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonSearchbar animated={true} onIonInput={searchbarChanged} />\n        <IonList lines=\"full\">\n          {committeesByLetter.map(([letter, committeesForLetter]) => (\n            <IonItemGroup key={letter}>\n              <IonItemDivider>\n                <IonLabel>{letter}</IonLabel>\n              </IonItemDivider>\n              {committeesForLetter.map((committee) => (\n                <CommitteeItem key={committee.id} committee={committee} />\n              ))}\n            </IonItemGroup>\n          ))}\n        </IonList>\n      </IonContent>\n    </>\n  );\n};\n\nexport default CommitteeListInner;\n"]},"metadata":{},"sourceType":"module"}