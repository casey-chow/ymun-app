{"ast":null,"code":"import { useContext, useMemo } from 'react';\nimport { StateContext } from \"../context\";\n/** Use selector to access part of state */\n\nexport default function useSelectionUnstable(select, params, paramSerializer) {\n  var state = useContext(StateContext); // TODO: if this is identical to before and render was triggered by state update,\n  // we should short-circuit entire rest of render\n  // params must be serialized in check\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var resource = useMemo(function () {\n    return params && select(state, params);\n  }, [// eslint-disable-next-line react-hooks/exhaustive-deps\n  params && paramSerializer(params), select, state]);\n  return resource;\n}","map":{"version":3,"sources":["../../../src/react-integration/hooks/useSelection.ts"],"names":["state","useContext","resource","useMemo","params","select","paramSerializer"],"mappings":"AAAA,SAAA,UAAA,EAAA,OAAA,QAAA,OAAA;AAEA,SAAA,YAAA,QAAA,YAAA;AAGA;;AACA,eAAe,SAAA,oBAAA,CAAA,MAAA,EAAA,MAAA,EAAA,eAAA,EAOS;AACtB,MAAMA,KAAK,GAAGC,UAAU,CADF,YACE,CAAxB,CADsB,CAEtB;AACA;AAEA;AACA;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,YAAA;AAAA,WAAMC,MAAM,IAAIC,MAAM,CAAA,KAAA,EAAtB,MAAsB,CAAtB;AAAD,GAAA,EAAwC,CAC9D;AACAD,EAAAA,MAAM,IAAIE,eAAe,CAFqC,MAErC,CAFqC,EAAA,MAAA,EAAhE,KAAgE,CAAxC,CAAxB;AAMA,SAAA,QAAA;AACD","sourcesContent":["import { useContext, useMemo } from 'react';\n\nimport { StateContext } from '~/react-integration/context';\nimport { State } from '~/types';\n\n/** Use selector to access part of state */\nexport default function useSelectionUnstable<\n  Params extends Readonly<object> | Readonly<object>[],\n  F extends (state: State<unknown>, params: Params) => any\n>(\n  select: F,\n  params: Params | null,\n  paramSerializer: (p: Params) => string,\n): ReturnType<F> | null {\n  const state = useContext(StateContext);\n  // TODO: if this is identical to before and render was triggered by state update,\n  // we should short-circuit entire rest of render\n\n  // params must be serialized in check\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const resource = useMemo(() => params && select(state, params), [\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    params && paramSerializer(params),\n    select,\n    state,\n  ]);\n  return resource;\n}\n"]},"metadata":{},"sourceType":"module"}