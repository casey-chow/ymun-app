{"ast":null,"code":"import _slicedToArray from \"/Users/juliablair/Desktop/christemp/ymun-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CommitteeList/CommitteeListInner.tsx\";\nimport { IonBackButton, IonButtons, IonContent, IonHeader, IonItemDivider, IonItemGroup, IonLabel, IonList, IonSearchbar, IonTitle, IonToolbar } from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useResource } from 'rest-hooks';\nimport CommitteeResource from '../../resources/committee';\nimport CommitteeItem from './CommitteeItem';\n\nconst CommitteeListInner = () => {\n  const committees = useResource(CommitteeResource.listShape(), {});\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchbarText = _useState2[0],\n        setSearchbarText = _useState2[1];\n\n  const searchbarChanged = useCallback(evt => {\n    setSearchbarText(evt.target && evt.target.value.toLowerCase());\n  }, [setSearchbarText]);\n  const committeesByLetter = useMemo(() => {\n    const filtered = searchbarText ? committees.filter(x => x.name.toLowerCase().includes(searchbarText)) : committees;\n\n    const grouped = _.groupBy(filtered, x => x.name[0].toUpperCase());\n\n    const letters = _.keys(grouped).sort();\n\n    return letters.map(letter => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [committees, searchbarText]);\n  return React.createElement(React.Fragment, null, React.createElement(IonHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(IonButtons, {\n    slot: \"start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(IonBackButton, {\n    defaultHref: \"/resources\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(IonTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Committees\"))), React.createElement(IonContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(IonHeader, {\n    collapse: \"condense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(IonToolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(IonTitle, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Committees\"))), React.createElement(IonSearchbar, {\n    animated: true,\n    onIonInput: searchbarChanged,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(IonList, {\n    lines: \"full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, committeesByLetter.map(([letter, committeesForLetter]) => React.createElement(IonItemGroup, {\n    key: letter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(IonItemDivider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(IonLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, letter)), committeesForLetter.map(committee => React.createElement(CommitteeItem, {\n    key: committee.id,\n    committee: committee,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })))))));\n};\n\nexport default CommitteeListInner;","map":{"version":3,"sources":["/Users/juliablair/Desktop/christemp/ymun-app/src/pages/CommitteeList/CommitteeListInner.tsx"],"names":["IonBackButton","IonButtons","IonContent","IonHeader","IonItemDivider","IonItemGroup","IonLabel","IonList","IonSearchbar","IonTitle","IonToolbar","_","React","useCallback","useMemo","useState","useResource","CommitteeResource","CommitteeItem","CommitteeListInner","committees","listShape","searchbarText","setSearchbarText","searchbarChanged","evt","target","value","toLowerCase","committeesByLetter","filtered","filter","x","name","includes","grouped","groupBy","toUpperCase","letters","keys","sort","map","letter","sortBy","committeesForLetter","committee","id"],"mappings":"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","sourcesContent":["import {\n  IonBackButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonItemDivider,\n  IonItemGroup,\n  IonLabel,\n  IonList,\n  IonSearchbar,\n  IonTitle,\n  IonToolbar,\n} from '@ionic/react';\nimport _ from 'lodash';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useResource } from 'rest-hooks';\nimport CommitteeResource from '../../resources/committee';\nimport CommitteeItem from './CommitteeItem';\n\nconst CommitteeListInner: React.FC = () => {\n  const committees = useResource(CommitteeResource.listShape(), {});\n\n  const [searchbarText, setSearchbarText] = useState<string | null>(null);\n  const searchbarChanged = useCallback(\n    (evt) => {\n      setSearchbarText(\n        evt.target && (evt.target.value as string).toLowerCase()\n      );\n    },\n    [setSearchbarText]\n  );\n\n  const committeesByLetter: [string, CommitteeResource[]][] = useMemo(() => {\n    const filtered = searchbarText\n      ? committees.filter((x) => x.name.toLowerCase().includes(searchbarText))\n      : committees;\n    const grouped = _.groupBy(filtered, (x) => x.name[0].toUpperCase());\n    const letters = _.keys(grouped).sort();\n\n    return letters.map((letter) => [letter, _.sortBy(grouped[letter], 'name')]);\n  }, [committees, searchbarText]);\n\n  return (\n    <>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/resources\" />\n          </IonButtons>\n          <IonTitle>Committees</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Committees</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonSearchbar animated={true} onIonInput={searchbarChanged} />\n        <IonList lines=\"full\">\n          {committeesByLetter.map(([letter, committeesForLetter]) => (\n            <IonItemGroup key={letter}>\n              <IonItemDivider>\n                <IonLabel>{letter}</IonLabel>\n              </IonItemDivider>\n              {committeesForLetter.map((committee) => (\n                <CommitteeItem key={committee.id} committee={committee} />\n              ))}\n            </IonItemGroup>\n          ))}\n        </IonList>\n      </IonContent>\n    </>\n  );\n};\n\nexport default CommitteeListInner;\n"]},"metadata":{},"sourceType":"module"}